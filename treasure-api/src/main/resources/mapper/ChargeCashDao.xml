<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.treasure.dao.ChargeCashDao">

    <resultMap type="io.treasure.entity.ChargeCashEntity" id="ChargeCashMap">

        <result property="id" column="id"/>
        <result property="cashOrderId" column="cash_order_id"/>
        <result property="userId" column="user_id"/>
        <result property="cash" column="name"/>
        <result property="changeGift" column="change_gift"/>
        <result property="saveTime" column="save_time"/>
        <result property="status" column="status"/>
        <result property="creator" column="creator"/>
        <result property="createDate" column="create_date"/>
        <result property="updater" column="updater"/>
        <result property="updateDate" column="update_date"/>
    </resultMap>
    <select id="selectByCashOrderId" resultType="io.treasure.dto.ChargeCashDTO">
        select * from ct_charge_cash where cash_order_id = #{cashOrderId}
    </select>
    <select id="getChargeCashAll"  resultType="io.treasure.dto.ChargeCashDTO">
        select * from ct_charge_cash
    </select>

    <select id="getChargeCashByCreateDate"  resultType="io.treasure.dto.ChargeCashDTO">
        select * from ct_charge_cash ccc , ct_client_user ccu
        where 1=1
        <if test="phone != null and phone!='' ">
            and  ccu.phone like  CONCAT('%',${phone},'%')
        </if>
        <if test="createDateTop != null  and createDateTop!='' and createDateTop != 'undefined' and createDateDown != null and createDateDown !='' and createDateDown!='undefined' ">
            and ccc.create_date BETWEEN #{createDateTop} AND #{createDateDown}
        </if>
        and ccu.id = ccc.user_id
    </select>
</mapper>